(function(){"use strict";var e=typeof window!="undefined"?window:global;if(typeof e.require=="function")return;var t={},n={},r=function(e,t){return hasOwnProperty.call(e,t)},i=function(e,t){var n=[],r,i;/^\.\.?(\/|$)/.test(t)?r=[e,t].join("/").split("/"):r=t.split("/");for(var s=0,o=r.length;s<o;s++)i=r[s],i===".."?n.pop():i!=="."&&i!==""&&n.push(i);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},o=function(e){return function(t){var n=s(e),r=i(n,t);return a(r)}},u=function(e,t){var r={id:e,exports:{}};t(r.exports,o(e),r);var i=n[e]=r.exports;return i},a=function(e){var s=i(e,".");if(r(n,s))return n[s];if(r(t,s))return u(s,t[s]);var o=i(s,"./index");if(r(n,o))return n[o];if(r(t,o))return u(o,t[o]);throw new Error('Cannot find module "'+e+'"')},f=function(e){for(var n in e)r(e,n)&&(t[n]=e[n])};e.require=a,e.require.define=f,e.require.brunch=!0})(),window.require.define({application:function(e,t,n){var r,i,s,o,u,a,f,l,c;l=t("routers/router"),a=t("views/navbar_view"),o=t("views/filebrowser_view"),i=t("views/code_editor_view"),c=t("views/view_editor_view"),f=t("models/projects"),s=t("views/contextual_file_menu_view"),u=t("logger"),n.exports=r=function(){function e(){var e=this;$(function(){return e.initialize(),Backbone.history.start({pushState:!1})})}return e.prototype.baseUrl="/api/v1",e.prototype.initialize=function(){var e=this;return this.router=new l,this.logger=new u,this.logger.logging=!0,this.contextualFileMenu=new s,this.renderEssentialComponents(),this.setupShortcuts(),$(window).resize(function(){return e.resizeComponents()}),$("body").live("click",function(){return e.contextualFileMenu.hide()})},e.prototype.setupShortcuts=function(){},e.prototype.renderEssentialComponents=function(){var e;return e=new a,$("header").html(e.render().el),this.filebrowser=new o,$("#filebrowser").html(this.filebrowser.render().el),this.code_editor=new i,$("#center_container").html(this.code_editor.render().el),this.view_editor=new c,$("#center_container").append(this.view_editor.render().el),this.view_editor.hide(),this.resizeComponents()},e.prototype.editor=function(){if(this.code_editor.active)return this.code_editor;if(this.view_editor.active)return this.view_editor},e.prototype.resizeComponents=function(){var e,t;return e=$("#filebrowser").width(),$("#filebrowser").height($(window).height()-40),$("#filebrowser").css("top",40),$(".code-editor, .CodeMirror-scroll").height($(window).height()-40),$(".code-editor").width($(window).width()-e-5),$(".code-editor").css("top",40),t=$(window).width()-e-5,$(".view-editor").height($(window).height()-40),$(".view-editor").width(t),$(".view-editor #view_container").width(t-e-15),$(".view-editor #view_container").height($(window).height()-40-45),$(".view-editor #view_editor_header").width(t-e-5),$(".view-editor").css("top",45),$(".view-editor #code_container, .view-editor #code_container .CodeMirror-scroll").height($(window).height()-40-45),$(".view-editor #code_container").width($(window).width()-e*2-5)},e}(),window.app=new r}}),window.require.define({logger:function(e,t,n){var r;n.exports=r=function(){function e(){}return e.prototype.logging=!1,e.prototype.log=function(){var e;if(this.logging)return e=_.map(arguments,function(e){return e}),console.log("[SwitchIDE] "+e.join(" "))},e}()}}),window.require.define({"models/collection":function(e,t,n){var r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.url=function(){return""+app.baseUrl+"/"+this.apiPath},n.prototype.model=t("./model"),n}(Backbone.Collection)}}),window.require.define({"models/file":function(e,t,n){var r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("./model"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.isDirectory=function(){return this.get("type")==="directory"},t.prototype.isView=function(){return this.get("name").match(/\.mustache$/)},t.prototype.codeMode=function(){if(!this.get("name"))return"text";if(this.get("name").match(/\.coffee$/))return"coffeescript";if(this.get("name").match(/\.js$/))return"javascript";if(this.get("name").match(/\.json/))return{name:"javascript",json:!0};if(this.get("name").match(/\.s?css$/))return"css";if(this.get("name").match(/\.(md|markdown|mdown)$/))return"markdown";if(this.get("name").match(/\.html?$/))return{name:"xml",htmlMode:!0};if(this.get("name").match(/\.mustache$/))return{name:"xml",htmlMode:!0}},t.prototype.fullPath=function(){return this.fullPathNamed(this.get("name"))},t.prototype.fullPathNamed=function(e){return""+this.get("parent")+"/"+e},t.prototype.railsPath=function(e,t){var n,r,i,s,o;t==null&&(t={}),r=[app.baseUrl,"projects",this.project.get("id"),"files",e].join("/"),r+="?path="+[this.get("parent"),this.get("name")].join("/"),o=_.keys(t);for(i=0,s=o.length;i<s;i++)n=o[i],r+="&"+n+"="+t[n];return r},t.prototype.fetchContent=function(){var e=this;if(this.isDirectory())return;return $.getJSON(this.railsPath("content"),function(t){return e.set("content",t.content,{silent:!0}),e.trigger("change:content")})},t.prototype.updateContent=function(e){var t=this;if(this.isDirectory())return;return Backbone.Mediator.pub("status:set","Saving "+this.get("name")+" ..."),$.ajax({url:this.railsPath("content"),type:"PUT",data:{content:this.get("content")},success:function(n){return t.set("content",n.content,{silent:!0}),t.trigger("change:content"),Backbone.Mediator.pub("status:set","Saved "+t.get("name")),typeof e=="function"?e(n):void 0}})},t.prototype.rename=function(e){var t=this;return $.ajax({url:this.railsPath("rename",{new_path:this.fullPathNamed(e)}),type:"PUT",success:function(n){var r;return r=t.get("name"),t.set("name",e),t.set("isRenaming",!1),Backbone.Mediator.pub("status:set","Renamed "+t.get("name")),Backbone.Mediator.pub("file:renamed",t,r)}})},t.prototype["delete"]=function(){var e=this;return $.ajax({url:this.railsPath("destroy"),type:"DELETE",success:function(t){return Backbone.Mediator.pub("status:set","Deleted "+e.get("name")),e.destroy()}})},t}(i)}}),window.require.define({"models/files":function(e,t,n){var r,i,s,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=t("./collection"),i=t("./file"),n.exports=s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.initialize=function(e,t){return t&&(this.path=t.path,this.project=t.project,this.url=[app.baseUrl,"projects",this.project.get("id"),"files"].join("/"),this.url+="?path="+this.path),this.bind("reset",this.sort,this),this.bind("reset",this.applyProjectToFiles,this),this.bind("add",this.applyProjectToFile,this),this.bind("add",this.sort,this)},t.prototype.sort=function(){var e,t,n;n=this.groupBy(function(e){return e.get("type")});if(n.directory&&n.file)return e=_.sortBy(n.directory,function(e){return e.get("name").toLowerCase()}),t=_.sortBy(n.file,function(e){return e.get("name").toLowerCase()}),this.reset(_.union(e,t),{silent:!0})},t.prototype.applyProjectToFiles=function(){var e=this;return this.each(function(t){return e.applyProjectToFile(t)})},t.prototype.applyProjectToFile=function(e){return e.project=this.project},t}(r)}}),window.require.define({"models/model":function(e,t,n){var r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.urlRoot=function(){return""+app.baseUrl+"/"+this.apiPath},t}(Backbone.Model)}}),window.require.define({"models/project":function(e,t,n){var r,i,s,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("./model"),r=t("./files"),n.exports=s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.apiPath="projects",t.prototype.toJSON=function(){return{project:_.pick(_.clone(this.attributes),"name")}},t.prototype.initialize=function(){return this.rootFolder=new r},t.prototype.create=function(e){var t=this;return $.ajax({url:[app.baseUrl,"projects"].join("/"),type:"POST",data:{name:this.get("name")},success:function(n){return t.set("id",n.id),t.set("path",n.path),typeof e=="function"?e():void 0}})},t.prototype.fetchRootFolder=function(e){if(this.get("id"))return this.rootFolder=new r(null,{path:"/",project:this}),this.rootFolder.fetch({success:function(){return typeof e=="function"?e():void 0}})},t.prototype.railsPath=function(e){var t;return t=[app.baseUrl,"projects",this.get("id"),e].join("/")},t.prototype.newFile=function(e){var t,n,r,i,s,o,u=this;return i=e.model,n=e.fileView,r=e.name,o=e.type,i.isDirectory()?(s=i.fullPath(),t=n.directory):(s=i.get("parent"),t=i.collection),console.log(t),$.ajax({url:this.railsPath("files/new")+("?path="+s),data:{name:r,type:o},type:"POST",success:function(e){if(e.result==="exists")return bootbox.alert("A file or folder named "+r+" already exists in that path");if(t)return t.add(e.data)}})},t.prototype.runProject=function(e){return Backbone.Mediator.pub("status:set","Starting server..."),$.ajax({url:this.railsPath("run"),type:"POST",success:function(t){return t.result?Backbone.Mediator.pub("status:set","Failed to start server"):(setTimeout(function(){return window.open(t.url)},1500),Backbone.Mediator.pub("status:set","Running",{sticky:!0}),typeof e=="function"?e():void 0)}})},t.prototype.buildAndRun=function(){var e=this;return this.buildProject(function(){return app.logger.log("Now calling attempting to run"),e.runProject()})},t.prototype.archiveProject=function(e){var t=this;return Backbone.Mediator.pub("status:set","Archiving...",{sticky:!0}),$.ajax({url:this.railsPath("archive"),type:"POST",success:function(n){return n.error?(Backbone.Mediator.pub("status:set","Archive failed"),bootbox.alert("There was an error archiving your project. Make sure you can Build it first.")):(Backbone.Mediator.pub("status:set","Archive successful"),typeof e=="function"?e(t.railsPath("archive")):void 0)}})},t.prototype.buildProject=function(e){return Backbone.Mediator.pub("status:set","Building..."),$.ajax({url:this.railsPath("build"),type:"POST",success:function(t){var n;return t.result?(Backbone.Mediator.pub("status:set","Build failed"),n='<div class="modal hide fade" id="myModal">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">×</button>\n    <h3 class="build-error">Build Failed</h3>\n  </div>\n  <div class="modal-body">\n    <p>Build failed. Here\'s the output of the build process:</p>\n    <pre style="overflow: auto;">'+t.output+'</pre>\n  </div>\n  <div class="modal-footer">\n    <a href="javascript:;" class="btn" data-dismiss="modal">Close</a>\n  </div>\n</div>',$(n).appendTo("body").modal("show")):(Backbone.Mediator.pub("status:set","Build successful"),typeof e=="function"?e():void 0)}})},t}(i)}}),window.require.define({"models/projects":function(e,t,n){var r,i,s,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=t("./collection"),i=t("./project"),n.exports=s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.apiPath="projects",t.prototype.model=i,t}(r)}}),window.require.define({"routers/router":function(e,t,n){var r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=t("models/project"),i=t("models/projects"),s=t("views/projects_view"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.routes={"":"index","projects/:id":"project","*all":"redirect"},t.prototype.index=function(){var e,t;return app.logger.log("Router#index"),e=new i,t=new s({collection:e}),$("body").append(t.render().el),$("#"+t.id).modal({backdrop:"static",keyboard:!1}),e.fetch()},t.prototype.project=function(e){var t=this;return app.logger.log("Router#project"),app.project=new r({id:e}),app.project.fetch({success:function(){return app.filebrowser.setModel(app.project),Backbone.Mediator.pub("status:set","Project Loaded")}}),Backbone.Mediator.pub("modal:hide")},t.prototype.redirect=function(){return app.logger.log("Router#redirect"),this.navigate("")},t}(Backbone.Router)}}),window.require.define({"views/code_editor_view":function(e,t,n){var r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("models/file"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.className="code-editor",t.prototype.active=!1,t.prototype.placeholderModel=!0,t.prototype.initialize=function(){var e=this;return this.model||(this.model=new i),Mousetrap.bind(["ctrl+z","command+z"],function(t){return t.preventDefault(),e.codemirror.undo()}),Mousetrap.bind(["ctrl+shift+z","command+shift+z"],function(t){return t.preventDefault(),e.codemirror.redo()})},t.prototype.updateAndSave=function(e){return this.placeholderModel?!1:(this.model.set("content",this.codemirror.getValue()),this.model.updateContent(e))},t.prototype.setFile=function(e){return this.placeholderModel||(localStorage["switch:codemirror:history:"+app.project.get("id")+":"+this.model.fullPath()]=JSON.stringify(this.codemirror.getHistory())),this.updateAndSave(),this.model.off("change:content",this.updateContent,this),this.codemirror.clearHistory(),this.model=e,this.model.on("change:content",this.updateContent,this),this.placeholderModel=!1},t.prototype.clearEditor=function(e){var t,n=this;return e==null&&(e={save:!0}),this.model.off("change:content",this.updateContent,this),t=function(){return n.codemirror.setValue(""),n.codemirror.clearHistory(),n.model=new i,n.placeholderModel=!0},e.save?this.updateAndSave(t):t()},t.prototype.updateContent=function(){var e;return this.codemirror.setValue(this.model.get("content")),this.codemirror.setOption("mode",this.model.codeMode()),this.codemirror.clearHistory(),(e=localStorage["switch:codemirror:history:"+app.project.get("id")+":"+this.model.fullPath()])&&this.codemirror.setHistory(JSON.parse(e)),this.codemirror.focus()},t.prototype.render=function(){var e=this;return this.$el.html(""),this.codemirror=CodeMirror(this.$el[0],{value:this.model.get("content"),lineNumbers:!0,tabSize:2,onCursorActivity:function(){return e.codemirror.matchHighlight("CodeMirror-matchhighlight")}}),this.$("textarea").addClass("mousetrap"),this},t.prototype.show=function(){var e=this;return this.$el.show(),this.active=!0,Mousetrap.bind(["ctrl+s","command+s"],function(t){return t.preventDefault(),e.updateAndSave()})},t.prototype.hide=function(){return this.$el.hide(),this.active=!1,Mousetrap.unbind(["ctrl+s","command+s"])},t}(Backbone.View)}}),window.require.define({"views/contextual_file_menu_view":function(e,t,n){var r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.template=t("./templates/contextual_file_menu"),n.prototype.tagName="div",n.prototype.className="dropdown contextual-menu",n.prototype.fileView=null,n.prototype.events={"click .rename-file":"rename","click .delete-file":"delete","click .new-file":"newFile","click .new-folder":"newFolder"},n.prototype.initialize=function(){return this.render(),this.$el.appendTo("body")},n.prototype.show=function(e,t,n){return this.model=e,this.fileView=t,this.render(),this.$el.css({left:n.x,top:n.y}),this.$(".dropdown-menu").show(),this.$el.show()},n.prototype.hide=function(){return this.$el.hide()},n.prototype.render=function(){var e;return this.$el.html(this.template.render({allowClose:(e=this.fileView)!=null?e.allowClose:void 0}))},n.prototype.rename=function(){return this.hide(),this.model.set("isRenaming",!0)},n.prototype["delete"]=function(){var e=this;return this.hide(),bootbox.confirm("Are you sure you want to delete "+this.model.get("name")+"? This cannot be undone.",function(t){if(t)return e.model["delete"]()})},n.prototype.newFile=function(){var e=this;return this.hide(),bootbox.prompt("New File",function(t){if(t!==null&&t!=="")return app.project.newFile({model:e.model,fileView:e.fileView,name:t,type:"file"})})},n.prototype.newFolder=function(){var e=this;return this.hide(),bootbox.prompt("New Folder",function(t){if(t!==null&&t!=="")return app.project.newFile({model:e.model,fileView:e.fileView,name:t,type:"folder"})})},n}(Backbone.View)}}),window.require.define({"views/file_view":function(e,t,n){var r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("models/files"),n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.template=t("./templates/file"),n.prototype.tagName="div",n.prototype.className="file-container",n.prototype.directory=null,n.prototype.allowClose=!1,n.prototype.events=function(){var e;return e={},e.contextmenu="contextualMenu",e["click a#cid_"+this.model.cid]="open",e["keydown input"]="rename",e},n.prototype.initialize=function(e,t){var n=this;return t&&t.allowClose&&(this.allowClose=t.allowClose),this.model.on("all",this.render,this),this.model.on("destroy",function(){return app.code_editor.clearEditor({save:!1}),n.remove()}),Backbone.Mediator.sub("fileview:startedRenaming",this.stopRenaming,this),this.model.on("change:isRenaming",function(e,t){if(t)return Backbone.Mediator.pub("fileview:startedRenaming",n)})},n.prototype.render=function(){var e=this;return this.$el.html(this.template.render({name:this.model.get("name"),cid:this.model.cid,isDirectory:this.model.isDirectory(),isRenaming:this.model.get("isRenaming"),isView:this.model.isView(),directory:this.directory,allowClose:this.allowClose,showForm:this.model.get("isRenaming")&&!this.allowClose})),this.$el.attr("data-cid",this.model.cid),this.directory&&this.directory.each(function(t){var r;return r=new n({model:t}),e.$(".subdirectory").first().append(r.render().el)}),this.model.get("isRenaming")&&this.$("input").focus(),this},n.prototype.markAsActive=function(){return this.$el.addClass("active")},n.prototype.unmarkAsActive=function(){return this.$el.removeClass("active")},n.prototype.removeFromList=function(){if(!this.allowClose)return;return this.remove(),Backbone.Mediator.pub("filebrowser:close_file",this.model)},n.prototype.contextualMenu=function(e){return e.preventDefault(),e.stopPropagation(),app.contextualFileMenu.show(this.model,this,{x:e.pageX,y:e.pageY})},n.prototype.rename=function(e){if(e.keyCode===13)return this.model.rename(this.$("input").val()),this.$("input").attr("disabled","disabled");if(e.keyCode===27)return this.model.set("isRenaming",!1)},n.prototype.stopRenaming=function(e){if(e!==this)return this.model.set("isRenaming",!1)},n.prototype.open=function(e){e!=null&&e.preventDefault();if(this.model.get("isRenaming"))return;return this.model.isDirectory()?this.directory?(app.logger.log("Closing directory "+this.model.get("name")),this.directory.off("all"),this.directory=null,this.render()):(app.logger.log("Opening directory "+this.model.get("name")),this.directory=new i(null,{project:this.model.project,path:this.model.fullPath()}),this.directory.on("reset",this.render,this),this.directory.on("add",this.render,this),this.directory.fetch()):(app.logger.log("Opening file "+this.model.get("name")),app.view_editor.hide(),app.code_editor.hide(),this.model.isView()?(app.view_editor.setFile(this.model),app.code_editor.updateAndSave(),app.view_editor.show()):(app.code_editor.setFile(this.model),app.view_editor.updateAndSave(),app.code_editor.show()),this.model.fetchContent(),Backbone.Mediator.pub("filebrowser:open_file",this.model))},n}(Backbone.View)}}),window.require.define({"views/filebrowser_view":function(e,t,n){var r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/project"),i=t("./file_view"),r=t("models/file"),n.exports=s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.className="filebrowser",n.prototype.template=t("./templates/filebrowser"),n.prototype.openFiles={},n.prototype.openFile=null,n.prototype.arrayOpenFiles=[],n.prototype.initialize=function(){var e=this;return this.setModel(this.model||new o),_.each([1,2,3,4,5,6,7,8,9],function(t){return Mousetrap.bind(["ctrl+"+t,"command+"+t],function(n){return n.preventDefault(),e.openFileAtIndex(t-1)})}),Mousetrap.bind(["ctrl+w","command+w"],function(t){var n;return t.preventDefault(),(n=e.openFiles[e.openFile])!=null?n.removeFromList():void 0}),Backbone.Mediator.sub("filebrowser:open_file",this.addFile,this),Backbone.Mediator.sub("filebrowser:close_file",this.removeFile,this),Backbone.Mediator.sub("file:renamed",this.renamedFile,this)},n.prototype.openFileAtIndex=function(e){if(!this.arrayOpenFiles[e])return;return this.openFiles[this.arrayOpenFiles[e]].open()},n.prototype.setModel=function(e){var t,n,r,i=this;return(t=this.model)!=null&&t.off("change",this.render,this),(n=this.model)!=null&&(r=n.rootFolder)!=null&&r.off("add",this.render,this),this.model=e,this.model.on("change",this.render,this),this.model.fetchRootFolder(function(){return i.render(),i.model.rootFolder.on("add",i.render,i)})},n.prototype.render=function(){var e=this;return app.logger.log("FilebrowserView#render"),this.$el.html(this.template.render()),this.$("#open_files").sortable({axis:"y",stop:function(t,n){return _.each(e.arrayOpenFiles,function(t){if(e.openFiles[t].model.cid===n.item.attr("data-cid"))return e.arrayOpenFiles.splice(_.indexOf(e.arrayOpenFiles,t),1),e.arrayOpenFiles.splice(n.item.index(),0,t)})}}),this.model.rootFolder.each(function(t){var n;return n=new i({model:t}),e.$("#project_files").append(n.render().el)}),this},n.prototype.addFile=function(e){return _.has(this.openFiles,e.fullPath())||(this.openFiles[e.fullPath()]=new i({model:e},{allowClose:!0}),this.arrayOpenFiles.push(e.fullPath()),this.$("#open_files").append(this.openFiles[e.fullPath()].render().el)),_.each(this.openFiles,function(e){return e.unmarkAsActive()}),this.openFiles[e.fullPath()].markAsActive(),this.openFile=e.fullPath()},n.prototype.removeFile=function(e){if(_.has(this.openFiles,e.fullPath()))return delete this.openFiles[e.fullPath()],this.arrayOpenFiles.splice(_.indexOf(this.arrayOpenFiles,e.fullPath()),1),this.openFile=null,app.code_editor.clearEditor()},n.prototype.renamedFile=function(e,t){if(_.has(this.openFiles,e.fullPathNamed(t)))return this.openFiles[e.fullPath()]=this.openFiles[e.fullPathNamed(t)],delete this.openFiles[e.fullPathNamed(t)]},n}(Backbone.View)}}),window.require.define({"views/navbar_view":function(e,t,n){var r,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n.exports=r=function(e){function n(){return this.hideStatus=i(this.hideStatus,this),this.showStatus=i(this.showStatus,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.className="navbar navbar-fixed-top navbar-inverse",n.prototype.template=t("./templates/navbar"),n.prototype.statuses=[],n.prototype.showingStatus=!1,n.prototype.showProgressTimeout=null,n.prototype.events={"click [data-menu_id=build]":"buildProject","click [data-menu_id=build-run]":"buildAndRun","click [data-menu_id=run]":"runProject","click [data-menu_id=archive]":"archiveProject"},n.prototype.initialize=function(){var e=this;return Backbone.Mediator.sub("progress:show",this.showProgress,this),Backbone.Mediator.sub("progress:hide",this.hideProgress,this),Backbone.Mediator.sub("progress:set",this.setProgress,this),Backbone.Mediator.sub("status:set",this.showStatus,this),this.bindKeys(),this.loadingCount=0,this.$el.bind("ajaxStart",function(){e.loadingCount+=1;if(e.loadingCount===1)return e.showProgress(),app.logger.log("Syncing started.")}),this.$el.bind("ajaxStop",function(){e.loadingCount-=1;if(e.loadingCount===0)return e.hideProgress(),app.logger.log("Syncing ended.")})},n.prototype.bindKeys=function(){var e=this;return Mousetrap.bind(["ctrl+r","command+r"],function(t){return t.preventDefault(),app.editor().updateAndSave(function(){return e.buildAndRun()})}),Mousetrap.bind(["ctrl+b","command+b"],function(t){return t.preventDefault(),app.editor().updateAndSave(function(){return e.buildProject()})})},n.prototype.helpers={divider:function(){return'<li class="divider"></li>'},menuItem:function(e,t,n){return n==null&&(n={}),n=_.defaults(n,{icon:"blank",shortcut:"",menu_id:""}),'<li>\n  <a href="'+t+'" data-menu_id="'+n.menu_id+'">\n    <i class="icon-'+n.icon+'"></i>\n    '+e+'\n    <div class="pull-right keyboard-shortcut">'+n.shortcut+"</div>\n  </a>\n</li>"}},n.prototype.showStatus=function(e,t){var n;return t==null&&(t={}),t=_.defaults(t,{sticky:!1}),clearTimeout(this.statusTimeout),t.sticky||(this.statusTimeout=setTimeout(this.hideStatus,3e3)),this.$(".switch-status").animate({top:20,opacity:0},(n=this.$(".switch-status").is("hidden"))!=null?n:{0:500},function(){return $(this).html(e).css({display:"inline",top:-20,opacity:0}).animate({top:11,opacity:1})})},n.prototype.hideStatus=function(){return this.$(".switch-status").animate({top:"20px",opacity:0})},n.prototype.showProgress=function(){var e=this;return this.showProgressTimeout=setTimeout(function(){return e.$(".progress").css({opacity:0,display:"inline",width:0}),e.$(".progress").animate({opacity:1,width:100}),e.showProgressTimeout=null},500)},n.prototype.hideProgress=function(){var e=this;return this.showProgressTimeout!=null?(clearTimeout(this.showProgressTimeout),this.showProgressTimeout=null):setTimeout(function(){return e.$(".progress").animate({opacity:0,width:0})},800)},n.prototype.setProgress=function(e){return this.$(".progress .bar").css("width",e)},n.prototype.render=function(){return this.$el.html(this.template.render({divider:this.helpers.divider,menuItem:this.helpers.menuItem})),this},n.prototype.buildProject=function(){return app.project.buildProject()},n.prototype.runProject=function(){return app.project.runProject()},n.prototype.buildAndRun=function(){return app.project.buildAndRun()},n.prototype.archiveProject=function(){return app.project.archiveProject(function(e){return window.location.href=e})},n}(Backbone.View)}}),window.require.define({"views/projects_view":function(e,t,n){var r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=t("models/project"),n.exports=i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.className="modal hide fade",n.prototype.id="projects_modal",n.prototype.template=t("./templates/projects"),n.prototype.events={"submit form":"createProject"},n.prototype.subscriptions={"modal:hide":"destroy"},n.prototype.initialize=function(){return this.collection.on("all",this.render,this)},n.prototype.render=function(){return this.projects=this.collection.map(function(e){return{id:e.get("id"),name:e.get("name"),created_at:e.get("created_at")}}),this.$el.html(this.template.render({projects:this.projects})),this},n.prototype.destroy=function(){return $("#"+this.id).modal("hide"),this.remove()},n.prototype.createProject=function(e){var t,n=this;return e.preventDefault(),this.$("button").attr("disabled",!0).html("Wait..."),this.$("#project_name").attr("disabled",!0),t=new r({name:this.$("#project_name").val()}),t.create(function(){return n.collection.add(t),app.router.navigate("#/projects/"+t.get("id"))})},n}(Backbone.View)}}),window.require.define({"views/templates/code_editor":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.fl()})}}),window.require.define({"views/templates/contextual_file_menu":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<ul class="dropdown-menu">'),r.b("\n"+n),r.s(r.f("allowClose",e,t,1),e,t,1,0,0,"")||(r.b('    <li><a href="javascript:;" class="new-file">New File</a></li>'),r.b("\n"+n),r.b('    <li><a href="javascript:;" class="new-folder">New Folder</a></li>'),r.b("\n"+n),r.b('    <li><a href="javascript:;" class="rename-file">Rename</a></li>'),r.b("\n")),r.b('  <li><a href="javascript:;" class="delete-file">Delete</a></li>'),r.b("\n"+n),r.b("</ul>"),r.fl()})}}),window.require.define({"views/templates/file":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="file-item">'),r.b("\n"+n),r.b('  <a href="javascript:;" id="cid_'),r.b(r.v(r.f("cid",e,t,0))),r.b('">'),r.b("\n"+n),r.s(r.f("isDirectory",e,t,1),e,t,0,87,259,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("directory",e,t,1),e,t,0,108,156,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('        <i class="icon-folder-open"></i>'),n.b("\n")}),e.pop()),n.s(n.f("directory",e,t,1),e,t,1,0,0,"")||(n.b('        <i class="icon-folder-close"></i>'),n.b("\n"))}),e.pop()),r.b("\n"+n),r.s(r.f("isDirectory",e,t,1),e,t,1,0,0,"")||(r.s(r.f("isView",e,t,1),e,t,0,315,361,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('        <i class="icon-eye-open"></i> '),n.b("\n")}),e.pop()),r.s(r.f("isView",e,t,1),e,t,1,0,0,"")||(r.b('        <i class="icon-file"></i> '),r.b("\n"))),r.b("\n"+n),r.s(r.f("showForm",e,t,1),e,t,0,483,565,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('      <input type="text" value="'),n.b(n.v(n.f("name",e,t,0))),n.b('" class="input-medium rename-field">'),n.b("\n")}),e.pop()),r.s(r.f("showForm",e,t,1),e,t,1,0,0,"")||(r.b("      "),r.b(r.v(r.f("name",e,t,0))),r.b("\n")),r.b("  </a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("\n"+n),r.b('<div class="subdirectory file-item"></div>'),r.b("\n"),r.fl()})}}),window.require.define({"views/templates/filebrowser":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<ul class="nav nav-list">'),r.b("\n"+n),r.b('  <li class="nav-header"> Open Files </li>'),r.b("\n"+n),r.b("</ul>"),r.b("\n"+n),r.b('<div class="nav nav-list" id="open_files"></div>'),r.b("\n"+n),r.b("\n"+n),r.b('<ul class="nav nav-list">'),r.b("\n"+n),r.b('  <li class="nav-header">Project</li>'),r.b("\n"+n),r.b("</ul>"),r.b("\n"+n),r.b('<div class="nav nav-list" id="project_files"></div>'),r.b("\n"+n),r.b("\n"+n),r.b('<div class="separator"><!-- separator, keeps the status bar at "bar" ;P --></div>'),r.fl()})}}),window.require.define({"views/templates/navbar":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="navbar-inner">'),r.b("\n"+n),r.b('  <div class="container-fluid">'),r.b("\n"+n),r.b('    <a class="brand" href="javascript:;"><strong>Switch IDE</strong></a>'),r.b("\n"+n),r.b("\n"+n),r.b('    <ul class="nav">'),r.b("\n"+n),r.b('      <li class="dropdown">'),r.b("\n"+n),r.b('        <a href="#" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('          <i class="icon-file"></i>'),r.b("\n"+n),r.b("          File"),r.b("\n"+n),r.b('          <b class="caret"></b>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-plus"></i>'),r.b("\n"+n),r.b("              New Project"),r.b("\n"+n),r.b('              <div class="pull-right keyboard-shortcut">⌘⇧N</div>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-blank"></i>'),r.b("\n"+n),r.b("              New File"),r.b("\n"+n),r.b('              <div class="pull-right keyboard-shortcut">⌘N</div>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-upload"></i>'),r.b("\n"+n),r.b("              Add Files"),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-save"></i>'),r.b("\n"+n),r.b("              Save"),r.b("\n"+n),r.b('              <div class="pull-right keyboard-shortcut">⌘S</div>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-fire"></i>'),r.b("\n"+n),r.b("              Quick Open"),r.b("\n"+n),r.b('              <div class="pull-right keyboard-shortcut">⌘T</div>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("\n"+n),r.b('          <li class="divider"></li>'),r.b("\n"+n),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-remove"></i>'),r.b("\n"+n),r.b("              Close Project"),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("\n"+n),r.b('    <ul class="nav">'),r.b("\n"+n),r.b('      <li class="dropdown">'),r.b("\n"+n),r.b('        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('          <i class="icon-briefcase"></i>'),r.b("\n"+n),r.b("          Project"),r.b("\n"+n),r.b('          <b class="caret"></b>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b("          <!-- "),r.b(r.t(r.f("menuItem 'Build & Run', 'javascript:;', icon: 'legal', shortcut: '⌘R', menu_id: 'build-run'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Build', 'javascript:;', shortcut: '⌘B', menu_id: 'build'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Run', 'javascript:;', icon: 'play', menu_id: 'run'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Test', 'javascript:;', icon: 'wrench', shortcut: '⌘⇧T'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Archive', 'javascript:;', icon: 'save'",e,t,0))),r.b(" -->"),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("\n"+n),r.b('    <ul class="nav">'),r.b("\n"+n),r.b('      <li class="dropdown">'),r.b("\n"+n),r.b('        <a href="#" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('          <i class="icon-github"></i>'),r.b("\n"+n),r.b("          Git"),r.b("\n"+n),r.b('          <b class="caret"></b>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b("          <!-- "),r.b(r.t(r.f("menuItem 'Create Repo', 'javascript:;'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Commit', 'javascript:;', icon: 'ok', shortcut: '⌘⌥C'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Push', 'javascript:;', icon: 'upload-alt', shortcut: '⌘⌥P'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Pull', 'javascript:;', icon: 'download-alt', shortcut: '⌘⌥X'",e,t,0))),r.b("\n"+n),r.b('          <li class="divider"></li>'),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Switch Branch', 'javascript:;', icon: 'random'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Merge', 'javascript:;'",e,t,0))),r.b("\n"+n),r.b("          "),r.b(r.t(r.f("menuItem 'Tag', 'javascript:;', icon: 'tag'",e,t,0))),r.b(" -->"),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("\n"+n),r.b('    <ul class="nav">'),r.b("\n"+n),r.b('      <li class="dropdown">'),r.b("\n"+n),r.b('        <a href="#" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('          <i class="icon-th-large"></i>'),r.b("\n"+n),r.b("          Window"),r.b("\n"+n),r.b('          <b class="caret"></b>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b('            <a href="javascript:;">'),r.b("\n"+n),r.b('              <i class="icon-blank"></i>'),r.b("\n"+n),r.b("              Close"),r.b("\n"+n),r.b('              <div class="pull-right keyboard-shortcut">^W</div>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="btn-group pull-right">'),r.b("\n"+n),r.b('      <a class="btn btn-success" data-menu_id="build-run">'),r.b("\n"+n),r.b('        <i class="icon-legal"></i>'),r.b("\n"+n),r.b("        Build & Run"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b('      <a class="btn btn-success dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('        <span class="caret"></span>'),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b('      <ul class="dropdown-menu">'),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b('          <a href="javascript:;" data-menu_id="build">'),r.b("\n"+n),r.b('            <i class="icon-blank"></i>'),r.b("\n"+n),r.b("            Build"),r.b("\n"+n),r.b('            <div class="pull-right keyboard-shortcut">⌘B</div>'),r.b("\n"+n),r.b("          </a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b('          <a href="javascript:;" data-menu_id="run">'),r.b("\n"+n),r.b('            <i class="icon-play"></i>'),r.b("\n"+n),r.b("            Run"),r.b("\n"+n),r.b("          </a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b('          <a href="javascript:;">'),r.b("\n"+n),r.b('            <i class="icon-wrench"></i>'),r.b("\n"+n),r.b("            Test"),r.b("\n"+n),r.b('            <div class="pull-right keyboard-shortcut">⌘⇧T</div>'),r.b("\n"+n),r.b("          </a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b('          <a href="javascript:;" data-menu_id="archive">'),r.b("\n"+n),r.b('            <i class="icon-save"></i>'),r.b("\n"+n),r.b("            Archive"),r.b("\n"+n),r.b("          </a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ul>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="progress progress-striped active pull-right" style="display: none;">'),r.b("\n"+n),r.b('      <div class="bar" style="width: 100%;"></div>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="pull-right">'),r.b("\n"+n),r.b('      <p class="switch-status" style="position: relative">Ready</p>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.fl()})}}),window.require.define({"views/templates/projects":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="modal-header">'),r.b("\n"+n),r.b("  <h3>Choose a project</h3>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b('<div class="modal-body">'),r.b("\n"+n),r.b('  <ul class="unstyled">'),r.b("\n"+n),r.s(r.f("projects",e,t,1),e,t,0,128,265,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <li>"),r.b("\n"+n),r.b('        <a href="#/projects/'),r.b(r.v(r.f("id",e,t,0))),r.b('">'),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b('        <span class="muted">(created '),r.b(r.v(r.f("created_at",e,t,0))),r.b(")</span>"),r.b("\n"+n),r.b("      </li>"),r.b("\n")}),e.pop()),r.b("  </ul>"),r.b("\n"+n),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="pull-right">'),r.b("\n"+n),r.b('    <form class="form-inline">'),r.b("\n"+n),r.b("      Or you can create new project:"),r.b("\n"+n),r.b('      <div class="input-append">'),r.b("\n"+n),r.b('        <input class="span3" type="text" id="project_name" placeholder="Project\'s Name">'),r.b("\n"+n),r.b('        <button type="submit" class="btn btn-success" style="margin-top: -1px;">Create</button>'),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </form>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()})}}),window.require.define({"views/templates/view_editor":function(e,t,n){n.exports=new Hogan.Template(function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="view_editor_header">'),r.b("\n"+n),r.b('  <ul class="nav nav-tabs">'),r.b("\n"+n),r.b('    <li class="active pull-right view-editor-link">'),r.b("\n"+n),r.b('      <a href="javascript:;">View Editor</a>'),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b('    <li class="pull-right html-editor-link"><a href="javascript:;">HTML Source</a></li>'),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("\n"+n),r.b("\n"+n),r.b('<div id="view_container" contenteditable>'),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("view",e,t,0))),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("\n"+n),r.b('<div id="code_container" style="display: none;"></div>'),r.b("\n"+n),r.b("\n"+n),r.b('<div id="component_sidebar" class="component-sidebar">'),r.b("\n"+n),r.b('  <!-- <div class="switch-component">'),r.b("\n"+n),r.b('    <div class="preview">'),r.b("\n"+n),r.b("      &lt;html&gt;"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("    Custom HTML code"),r.b("\n"+n),r.b("  </div> -->"),r.b("\n"+n),r.b("\n"+n),r.b('  <!-- <div class="switch-component" data-component-type="grid-row">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="row">'),r.b("\n"+n),r.b('        <div class="span6">&nbsp;</div>'),r.b("\n"+n),r.b('        <div class="span6">&nbsp;</div>'),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Grid Row</span>'),r.b("\n"+n),r.b("  </div>   -->"),r.b("\n"+n),r.b("\n"+n),r.b('  <!-- <div class="switch-component" data-component-type="row">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="row"></div>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Row</span>'),r.b("\n"+n),r.b("  </div> -->"),r.b("\n"+n),r.b("\n"+n),r.b('  <!-- <div class="switch-component" data-component-type="span" data-component-drop-only="row">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="span1"></div>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Span</span>'),r.b("\n"+n),r.b("  </div> -->"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Tables -->"),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="table" data-width="400">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <table class="table table-bordered">'),r.b("\n"+n),r.b("        <thead>"),r.b("\n"+n),r.b("          <tr>"),r.b("\n"+n),r.b("            <th>First Column</th>"),r.b("\n"+n),r.b("            <th>Second Column</th>"),r.b("\n"+n),r.b("          </tr>"),r.b("\n"+n),r.b("        </thead>"),r.b("\n"+n),r.b("        <tbody>"),r.b("\n"+n),r.b("          <tr>"),r.b("\n"+n),r.b("            <td>First Row</td>"),r.b("\n"+n),r.b("            <td>First Row</td>"),r.b("\n"+n),r.b("          </tr>"),r.b("\n"+n),r.b("        </tbody>"),r.b("\n"+n),r.b("      </table>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Table</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <!-- <div class="switch-component" data-component-type="table-row" data-component-drop-only="tbody" data-preview="true">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b("      <tr>"),r.b("\n"+n),r.b("        <td>Cell</td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="drag-preview">'),r.b("\n"+n),r.b('      <table class="table table-bordered" style="width: 200px"><tbody><tr><td>Row</td></tr></tbody></table>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Table Row</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="table-cell" data-component-drop-only="tr" data-preview="true">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b("      <td>Cell</td>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="drag-preview">'),r.b("\n"+n),r.b('      <table class="table table-bordered" style="width: 200px"><tbody><tr><td>Cell</td></tr></tbody></table>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Table Cell</span>'),r.b("\n"+n),r.b("  </div> -->"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Button -->"),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="button">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <button type="button" class="btn btn-primary">Button</button>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview">'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b('    <span class="name">Button</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="button-toolbar">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="btn-toolbar">'),r.b("\n"+n),r.b('        <button class="btn">Button</button>'),r.b("\n"+n),r.b("\n"+n),r.b('        <div class="btn-group">'),r.b("\n"+n),r.b('          <button class="btn">Left</button>'),r.b("\n"+n),r.b('          <button class="btn">Middle</button>'),r.b("\n"+n),r.b('          <button class="btn">Right</button>'),r.b("\n"+n),r.b("        </div>  "),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Button Toolbar</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Button Group -->"),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="button-group">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="btn-group">'),r.b("\n"+n),r.b('        <button class="btn">Left</button>'),r.b("\n"+n),r.b('        <button class="btn">Middle</button>'),r.b("\n"+n),r.b('        <button class="btn">Right</button>'),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Button Group</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="button-dropdown">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="btn-group">'),r.b("\n"+n),r.b('        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">'),r.b("\n"+n),r.b("          Action"),r.b("\n"+n),r.b('          <span class="caret"></span>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b('          <li><a href="javascript:;">Menu Item</a></li>'),r.b("\n"+n),r.b('          <li><a href="javascript:;">Menu Item</a></li>'),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Button Dropdown</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="button-dropdown-split">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="btn-group">'),r.b("\n"+n),r.b('        <button class="btn">Action</button>'),r.b("\n"+n),r.b('        <button class="btn dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b('          <span class="caret"></span>'),r.b("\n"+n),r.b("        </button>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b('          <li><a href="javascript:;">Menu Item</a></li>'),r.b("\n"+n),r.b('          <li><a href="javascript:;">Menu Item</a></li>'),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Split Button Dropdown</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Link -->"),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="a">'),r.b("\n"+n),r.b('    <div class="payload"><a href="javascript:;">Link</a></div>'),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Link</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Plain Text Input -->"),r.b("\n"+n),r.b('  <div class="switch-component">'),r.b("\n"+n),r.b('    <div class="payload"><input type="text"></div>'),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Single Text Input</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <form class="form-horizontal">'),r.b("\n"+n),r.b('        <div class="control-group">'),r.b("\n"+n),r.b('          <div class="control-label"><label for="new_input">Label</label></div>'),r.b("\n"+n),r.b('          <div class="controls"><input type="text" name="new_input" id="new_input"></div>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("\n"+n),r.b('        <div class="control-group">'),r.b("\n"+n),r.b('          <div class="control-label"><label for="new_input2">Label 2</label></div>'),r.b("\n"+n),r.b('          <div class="controls"><input type="text" name="new_input2" id="new_input2"></div>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("\n"+n),r.b('        <div class="form-actions">'),r.b("\n"+n),r.b('          <button type="submit" class="btn btn-primary">Submit</button>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </form>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b("  <!-- Control Group Text Input with Label -->"),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-button" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label for="new_input">Label</label></div>'),r.b("\n"+n),r.b('        <div class="controls"><input type="text" name="new_input" id="new_input"></div>'),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Input</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-checkbox-group" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label>Checkbox</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <label class="checkbox">'),r.b("\n"+n),r.b('            <input type="checkbox" value="">'),r.b("\n"+n),r.b("            Checkbox"),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Checkbox Group</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-checkbox-single" data-component-drop-only=".controls">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <label class="checkbox">'),r.b("\n"+n),r.b('        <input type="checkbox" value="">'),r.b("\n"+n),r.b("        Checkbox"),r.b("\n"+n),r.b("      </label>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Checkbox (single)</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-radio-group" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label>Radio</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <label class="radio">'),r.b("\n"+n),r.b('            <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked>'),r.b("\n"+n),r.b("            Radio 1"),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b('          <label class="radio">'),r.b("\n"+n),r.b('            <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">'),r.b("\n"+n),r.b("            Radio 2"),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Radio Group</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-radio-single" data-component-drop-only=".controls">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <label class="radio">'),r.b("\n"+n),r.b('        <input type="radio" name="optionsRadios" value="option1">'),r.b("\n"+n),r.b("        Radio"),r.b("\n"+n),r.b("      </label>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Radio (single)</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-checkbox-inline-group" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label>Inline Checkboxes</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <label class="checkbox inline">'),r.b("\n"+n),r.b('            <input type="checkbox" id="inlineCheckbox1" value="option1"> 1'),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b('          <label class="checkbox inline">'),r.b("\n"+n),r.b('            <input type="checkbox" id="inlineCheckbox2" value="option2"> 2'),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b('          <label class="checkbox inline">'),r.b("\n"+n),r.b('            <input type="checkbox" id="inlineCheckbox3" value="option3"> 3'),r.b("\n"+n),r.b("          </label>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Inline Checkboxes</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-checkbox-inline-single" data-component-drop-only=".controls">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <label class="checkbox inline">'),r.b("\n"+n),r.b('        <input type="checkbox" id="inlineCheckbox3" value="option3"> 1'),r.b("\n"+n),r.b("      </label>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Inline Checkbox (single)</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-select" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label for="select">Select</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <select id="select" name="select">'),r.b("\n"+n),r.b("            <optgroup>Options Group</optgroup>"),r.b("\n"+n),r.b('            <option value="">Option 1</option>'),r.b("\n"+n),r.b('            <option value="">Option 2</option>'),r.b("\n"+n),r.b('            <option value="">Option 3</option>'),r.b("\n"+n),r.b("            <optgroup>Options Group</optgroup>"),r.b("\n"+n),r.b('            <option value="">Option 1</option>'),r.b("\n"+n),r.b("          </select>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Select</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-prepended-input" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label for="prependedInput">Prepend</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <div class="input-prepend">'),r.b("\n"+n),r.b('            <span class="add-on">@</span><input class="span2" id="prependedInput" size="16" type="text" placeholder="Username">'),r.b("\n"+n),r.b("          </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Prepended Input</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-appended-input" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label for="appendedInput">Append</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <div class="input-append">'),r.b("\n"+n),r.b('            <input class="span2" id="appendedInput" size="16" type="text"><span class="add-on">.00</span>'),r.b("\n"+n),r.b("          </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Appended Input</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label-combined-input" data-component-drop-only="form">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="control-group">'),r.b("\n"+n),r.b('        <div class="control-label"><label for="appendedInput">Append</label></div>'),r.b("\n"+n),r.b('        <div class="controls">'),r.b("\n"+n),r.b('          <div class="input-prepend input-append">'),r.b("\n"+n),r.b('            <span class="add-on">$</span><input class="span2" id="appendedInput" size="16" type="text"><span class="add-on">.00</span>'),r.b("\n"+n),r.b("          </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Combined Input</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="form-inline-help" data-component-drop-only=".controls">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <span class="help-inline">Inline Help</span>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Inline Help</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="form-block-help" data-component-drop-only=".controls">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <span class="help-block">Block Help</span>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Form Block Help</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="tabs">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <ul class="nav nav-tabs">'),r.b("\n"+n),r.b('        <li class="active">'),r.b("\n"+n),r.b('          <a href="javascript:;">Tab 1</a>'),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b('        <li><a href="javascript:;">Tab 2</a></li>'),r.b("\n"+n),r.b('        <li><a href="javascript:;">Tab 3</a></li>'),r.b("\n"+n),r.b("      </ul>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Tabs</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navlist" data-min-width="300">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="well" style="padding: 8px 0;">'),r.b("\n"+n),r.b('        <ul class="nav nav-list">'),r.b("\n"+n),r.b('          <li class="nav-header">List header</li>'),r.b("\n"+n),r.b('          <li class="active"><a href="javascript:;">Home</a></li>'),r.b("\n"+n),r.b('          <li><a href="javascript:;">Library</a></li>'),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Nav List</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="hero-unit" data-min-width="300">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="hero-unit">'),r.b("\n"+n),r.b("        <h1>Heading</h1>"),r.b("\n"+n),r.b("        <p>Tagline</p>"),r.b("\n"+n),r.b("        <p>"),r.b("\n"+n),r.b('          <a class="btn btn-primary btn-large">'),r.b("\n"+n),r.b("            Learn more"),r.b("\n"+n),r.b("          </a>"),r.b("\n"+n),r.b("        </p>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Hero Unit</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="page-header" data-min-width="400">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="page-header">'),r.b("\n"+n),r.b("        <h1>Title <small>Subtext</small></h1>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Page Header</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="alert" data-min-width="400">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="alert">'),r.b("\n"+n),r.b('        <button type="button" class="close" data-dismiss="alert">×</button>'),r.b("\n"+n),r.b("        <strong>Warning!</strong> Best check yo self, you're not looking too good."),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Alert</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="alert-block" data-min-width="300">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="alert alert-block">'),r.b("\n"+n),r.b('        <button type="button" class="close" data-dismiss="alert">×</button>'),r.b("\n"+n),r.b("        <h4>Warning!</h4>"),r.b("\n"+n),r.b("        Best check yo self, you're not..."),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Alert Block</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="progress-bar">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="progress">'),r.b("\n"+n),r.b('        <div class="bar" style="width: 60%;"></div>'),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Progress Bar</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="well">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="well">'),r.b("\n"+n),r.b("        Well"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Well</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar" data-min-width="300">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <div class="navbar navbar-inverse">'),r.b("\n"+n),r.b('        <div class="navbar-inner">'),r.b("\n"+n),r.b('          <div class="container">'),r.b("\n"+n),r.b('            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> '),r.b("\n"+n),r.b('              <span class="icon-bar"></span>'),r.b("\n"+n),r.b('              <span class="icon-bar"></span>'),r.b("\n"+n),r.b('              <span class="icon-bar"></span>'),r.b("\n"+n),r.b("            </button> "),r.b("\n"+n),r.b("\n"+n),r.b('            <a class="brand" href="#/">Brand</a>'),r.b("\n"+n),r.b("\n"+n),r.b('            <div class="nav-collapse collapse">'),r.b("\n"+n),r.b('              <ul class="nav">'),r.b("\n"+n),r.b('                <li><a href="#/">Home</a></li>'),r.b("\n"+n),r.b("              </ul>"),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("          </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar-nav-link" data-component-drop-only="ul.nav" data-preview="true">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="drag-preview">'),r.b("\n"+n),r.b('      <div class="navbar navbar-inverse">'),r.b("\n"+n),r.b('        <div class="navbar-inner">'),r.b("\n"+n),r.b('          <ul class="nav">'),r.b("\n"+n),r.b('            <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b("          </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar Link</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar-nav-divider" data-component-drop-only="ul.nav" data-preview="true">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <li class="divider-vertical"></li>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="drag-preview">'),r.b("\n"+n),r.b('      <div class="navbar navbar-inverse">'),r.b("\n"+n),r.b('        <div class="navbar-inner">'),r.b("\n"+n),r.b('          <ul class="nav">'),r.b("\n"+n),r.b('            <li class="divider-vertical"></li>'),r.b("\n"+n),r.b("          </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar Divider</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar-nav-form" data-component-drop-only=".navbar-inner">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <form class="navbar-form pull-left">'),r.b("\n"+n),r.b('        <input type="text" class="span2">'),r.b("\n"+n),r.b('        <button type="submit" class="btn">Submit</button>'),r.b("\n"+n),r.b("      </form>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar Form</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar-nav-search-form" data-component-drop-only=".navbar-inner">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <form class="navbar-search pull-left">'),r.b("\n"+n),r.b('        <input type="text" class="search-query" placeholder="Search">'),r.b("\n"+n),r.b("      </form>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar Search Form</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="navbar-nav-dropdown" data-component-drop-only="ul.nav" data-preview="true">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <li class="dropdown">'),r.b("\n"+n),r.b('        <a href="#" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b("          Dropdown"),r.b("\n"+n),r.b('          <b class="caret"></b>'),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b('        <ul class="dropdown-menu">'),r.b("\n"+n),r.b('          <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b('          <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="drag-preview">'),r.b("\n"+n),r.b('      <div class="navbar navbar-inverse">'),r.b("\n"+n),r.b('        <div class="navbar-inner">'),r.b("\n"+n),r.b('          <ul class="nav">'),r.b("\n"+n),r.b('            <li class="dropdown">'),r.b("\n"+n),r.b('              <a href="#" class="dropdown-toggle" data-toggle="dropdown">'),r.b("\n"+n),r.b("                Dropdown"),r.b("\n"+n),r.b('                <b class="caret"></b>'),r.b("\n"+n),r.b("              </a>"),r.b("\n"+n),r.b('              <ul class="dropdown-menu">'),r.b("\n"+n),r.b('                <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b('                <li><a href="#">Link</a></li>'),r.b("\n"+n),r.b("              </ul>"),r.b("\n"+n),r.b("            </li>"),r.b("\n"+n),r.b("          </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Navbar Dropdown</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="label">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <span class="label label-success">Label</span>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Label</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("\n"+n),r.b('  <div class="switch-component" data-component-type="badge">'),r.b("\n"+n),r.b('    <div class="payload">'),r.b("\n"+n),r.b('      <span class="badge badge-success">42</span>'),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("\n"+n),r.b('    <div class="preview"></div>'),r.b("\n"+n),r.b('    <span class="name">Badge</span>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()})}}),window.require.define({"views/view_editor_view":function(e,t,n){var r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=t("models/file"),n.exports=i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.className="view-editor",n.prototype.id="view_editor",n.prototype.template=t("./templates/view_editor"),n.prototype.active=!1,n.prototype.placeholderModel=!0,n.prototype.activeView="view",n.prototype.lastHoveredDroppable=null,n.prototype.draggable=null,n.prototype.dragThreshold=30,n.prototype.lastDragPosition={x:0,y:0},n.prototype.insertBefore=!1,n.prototype.events={"click #view_container a":"dummy","click #view_container button":"dummy","click #view_container input[type=button]":"dummy","click label":"dummy","click #view_editor_header .html-editor-link a":"showHtmlEditor","click #view_editor_header .view-editor-link a":"showViewEditor"},n.prototype.initialize=function(){var e=this;return this.model||(this.model=new r),Mousetrap.bind(["ctrl+alt+up","command+option+up","ctrl+alt+down","command+option+down"],function(t){t.preventDefault();if(e.activeView==="html")return e.showViewEditor();if(e.activeView==="view")return e.showHtmlEditor()}),Mousetrap.bind(["shift"],function(t){return e.insertBefore=!0},"keydown"),Mousetrap.bind(["shift"],function(t){return e.insertBefore=!1},"keyup"),Mousetrap.bind(["ctrl+z","command+z"],function(t){t.preventDefault(),e.codemirror.undo();if(e.activeView==="view")return e.loadViewEditor(e.codemirror.getValue())}),Mousetrap.bind(["ctrl+shift+z","command+shift+z"],function(t){t.preventDefault(),e.codemirror.redo();if(e.activeView==="view")return e.loadViewEditor(e.codemirror.getValue())})},n.prototype.updateAndSave=function(e){return this.placeholderModel?!1:(this.model.set("content",this.getContent()),this.model.updateContent(e))},n.prototype.getContent=function(){var e;if(this.activeView==="html")return e=this.codemirror.getValue(),e;if(this.activeView==="view")return this.unbindDroppables(),this.$("#view_container").find(".ui-droppable").removeClass("ui-droppable"),e=this.$("#view_container").html(),e=style_html(e,{indent_size:2}),e=e.replace(/\s?class=""/g,""),e},n.prototype.showHtmlEditor=function(e){return this.loadHtmlEditor()},n.prototype.showViewEditor=function(e){return this.loadViewEditor()},n.prototype.loadHtmlEditor=function(e){return e==null&&(e=null),this.codemirror.setValue(e||this.getContent()),this.$("#code_container, #code_container .CodeMirror-scroll").height($(window).height()-40-45),this.$("#code_container").width($(window).width()-$("#filebrowser").width()*2-5),this.$("#view_container").hide(),this.$("#code_container").show(),this.$(".view-editor-link").removeClass("active"),this.$(".html-editor-link").addClass("active"),this.codemirror.refresh(),this.codemirror.focus(),this.activeView="html"},n.prototype.loadViewEditor=function(e){return e==null&&(e=null),this.$("#view_container").html(e||this.getContent()),$(".view-editor #view_container").height($(window).height()-40-45),this.$("#view_container").show(),this.$("#code_container").hide(),this.$(".view-editor-link").addClass("active"),this.$(".html-editor-link").removeClass("active"),this.activeView="view"},n.prototype.render=function(){var e,t,n=this;return this.$el.html(this.template.render({view:(t=this.model)!=null?t.get("content"):void 0})),this.codemirror=CodeMirror(this.$("#code_container")[0],{value:this.model.get("content"),lineNumbers:!0,tabSize:2,onCursorActivity:function(){return n.codemirror.matchHighlight("CodeMirror-matchhighlight")},mode:"mustache"}),this.$("#code_container textarea").addClass("mousetrap"),$(".view-editor #view_container").width($(window).width()-$("#filebrowser").width()*2-15),$(".view-editor #view_editor_header").width($(window).width()-$("#filebrowser").width()*2-15),e=this,this.$("div.switch-component").draggable({revert:"invalid",revertDuration:100,zIndex:9999,appendTo:"#center_container",helper:function(){var e;return $(this).data("preview")?e=$(".drag-preview",this).clone():e=$(".payload",this).clone(),$(this).data("min-width")&&e.children().first().css("min-width",$(this).data("min-width")),$(this).data("max-width")&&e.children().first().css("max-width",$(this).data("max-width")),$(this).data("width")&&e.children().first().css("width",$(this).data("width")),e.html()},opacity:.7,cursor:"move",start:function(t,n){var r;return r=$(this).data("component-drop-only"),e.makeDroppable(r),e.draggable=$(this)},drag:function(t,n){var r;if(!e.lastHoveredDroppable)return;r=Math.sqrt(Math.pow(n.position.left-e.lastDragPosition.x,2)+Math.pow(n.position.top-e.lastDragPosition.y,2));if(r>e.dragThreshold)return e.lastDragPosition={x:n.position.left,y:n.position.top},e.putComponent(e,e.lastHoveredDroppable,{draggable:$(this),position:n.position},!0);return},stop:function(){return e.removeComponent(),e.unbindDroppables(),e.draggable=null}}),this.activeView==="html"?this.showHtmlEditor():this.loadViewEditor(this.model.get("content")),this},n.prototype.show=function(){var e=this;return this.$el.show(),this.active=!0,Mousetrap.bind(["ctrl+s","command+s"],function(t){return t.preventDefault(),e.updateAndSave()})},n.prototype.hide=function(){return this.$el.hide(),this.active=!1,Mousetrap.unbind(["ctrl+s","command+s"])},n.prototype.unbindDroppables=function(){return this.$("#view_container, #view_container *").droppable("destroy")},n.prototype.makeDroppable=function(e){var t,n;return n=this,this.unbindDroppables(),t="img, button, input, select, option, optgroup",e?e="#view_container "+e:e="#view_container, #view_container *",this.$(e).not(t).droppable({hoverClass:"hovering",greedy:!0,drop:function(e,t){return n.putComponent(n,$(this),t,!1),n.lastHoveredDroppable=null},over:function(e,t){return n.lastHoveredDroppable=$(this),n.putComponent(n,$(this),t,!0)},out:function(e,t){return n.removeComponent()}})},n.prototype.removeComponent=function(){return $("#view_container .preview-component").remove()},n.prototype.putComponent=function(e,t,n,r){var i,s,o,u,a;return r==null&&(r=!1),e.removeComponent(),s=n.draggable,u=$(".payload",s).html(),a=s.data("component-type"),o=$(u),i=$.nearest({x:n.position.left,y:n.position.top},t.children()).last(),i.length===0?t.append(o):e.insertBefore?o.insertBefore(i):o.insertAfter(i),r?(o.css({opacity:.7}),o.addClass("preview-component")):this.codemirror.setValue(e.getContent())},n.prototype.clear=function(){return this.$("#view_container").html(""),this.codemirror.setValue("")},n.prototype.setFile=function(e){var t;return(t=this.model)!=null&&t.off("change:content",this.render,this),this.clear(),this.model=e,this.model.on("change:content",this.render,this),this.placeholderModel=!1},n.prototype.dummy=function(e){return e.preventDefault()},n}(Backbone.View)}})